/usr/local/opt/ruby/bin/ruby -r ./siteconf20161216-3495-18j2dg2.rb extconf.rb
checking for main() in -lc... yes
checking for HAVE_RB_IO_T in rubyio.h... yes
checking for rb_io_t.fd in rubyio.h... yes
creating Makefile

make "DESTDIR=" clean

make "DESTDIR="
compiling iobuffer.c
iobuffer.c:262:43: warning: implicit conversion loses integer precision: 'long' to 'unsigned int' [-Wshorten-64-to-32]
    buffer_append(buf, RSTRING_PTR(data), RSTRING_LEN(data));
    ~~~~~~~~~~~~~                         ^~~~~~~~~~~~~~~~~
/usr/local/Cellar/ruby/2.2.3/include/ruby-2.2.0/ruby/ruby.h:863:6: note: expanded from macro 'RSTRING_LEN'
     RSTRING_EMBED_LEN(str) : \
     ^~~~~~~~~~~~~~~~~~~~~~
/usr/local/Cellar/ruby/2.2.3/include/ruby-2.2.0/ruby/ruby.h:859:6: note: expanded from macro 'RSTRING_EMBED_LEN'
     (long)((RBASIC(str)->flags >> RSTRING_EMBED_LEN_SHIFT) & \
     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
iobuffer.c:262:43: warning: implicit conversion loses integer precision: 'long' to 'unsigned int' [-Wshorten-64-to-32]
    buffer_append(buf, RSTRING_PTR(data), RSTRING_LEN(data));
    ~~~~~~~~~~~~~                         ^~~~~~~~~~~~~~~~~
/usr/local/Cellar/ruby/2.2.3/include/ruby-2.2.0/ruby/ruby.h:864:28: note: expanded from macro 'RSTRING_LEN'
     RSTRING(str)->as.heap.len)
     ~~~~~~~~~~~~~~~~~~~~~~^~~
iobuffer.c:280:44: warning: implicit conversion loses integer precision: 'long' to 'unsigned int' [-Wshorten-64-to-32]
    buffer_prepend(buf, RSTRING_PTR(data), RSTRING_LEN(data));
    ~~~~~~~~~~~~~~                         ^~~~~~~~~~~~~~~~~
/usr/local/Cellar/ruby/2.2.3/include/ruby-2.2.0/ruby/ruby.h:863:6: note: expanded from macro 'RSTRING_LEN'
     RSTRING_EMBED_LEN(str) : \
     ^~~~~~~~~~~~~~~~~~~~~~
/usr/local/Cellar/ruby/2.2.3/include/ruby-2.2.0/ruby/ruby.h:859:6: note: expanded from macro 'RSTRING_EMBED_LEN'
     (long)((RBASIC(str)->flags >> RSTRING_EMBED_LEN_SHIFT) & \
     ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
iobuffer.c:280:44: warning: implicit conversion loses integer precision: 'long' to 'unsigned int' [-Wshorten-64-to-32]
    buffer_prepend(buf, RSTRING_PTR(data), RSTRING_LEN(data));
    ~~~~~~~~~~~~~~                         ^~~~~~~~~~~~~~~~~
/usr/local/Cellar/ruby/2.2.3/include/ruby-2.2.0/ruby/ruby.h:864:28: note: expanded from macro 'RSTRING_LEN'
     RSTRING(str)->as.heap.len)
     ~~~~~~~~~~~~~~~~~~~~~~^~~
iobuffer.c:309:19: warning: comparison of integers of different signs: 'int' and 'unsigned int' [-Wsign-compare]
        if(length > buf->size)
           ~~~~~~ ^ ~~~~~~~~~
iobuffer.c:636:31: warning: initializing 'char *' with an expression of type 'unsigned char *' converts between pointers to integer types with different sign [-Wpointer-sign]
        char           *loc, *s = head->data + head->start, *e = head->data + head->end;
                              ^   ~~~~~~~~~~~~~~~~~~~~~~~~
iobuffer.c:636:62: warning: initializing 'char *' with an expression of type 'unsigned char *' converts between pointers to integer types with different sign [-Wpointer-sign]
        char           *loc, *s = head->data + head->start, *e = head->data + head->end;
                                                             ^   ~~~~~~~~~~~~~~~~~~~~~~
iobuffer.c:632:25: warning: unused variable 'tmp' [-Wunused-variable]
    struct buffer_node *tmp;
                        ^
iobuffer.c:637:20: warning: implicit conversion loses integer precision: 'long' to 'unsigned int' [-Wshorten-64-to-32]
        nbytes = e - s;
               ~ ~~^~~
iobuffer.c:642:30: warning: implicit conversion loses integer precision: 'long' to 'unsigned int' [-Wshorten-64-to-32]
            nbytes = loc - s + 1;
                   ~ ~~~~~~~~^~~
iobuffer.c:698:25: warning: implicit conversion loses integer precision: 'ssize_t' (aka 'long') to 'int' [-Wshorten-64-to-32]
        bytes_written = write(fd, buf->head->data + buf->head->start, buf->head->end - buf->head->start);
                      ~ ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
iobuffer.c:712:27: warning: comparison of integers of different signs: 'int' and 'unsigned int' [-Wsign-compare]
        if (bytes_written < buf->head->end - buf->head->start) {
            ~~~~~~~~~~~~~ ^ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
iobuffer.c:744:22: warning: implicit conversion loses integer precision: 'ssize_t' (aka 'long') to 'int' [-Wshorten-64-to-32]
        bytes_read = read(fd, buf->tail->data + buf->tail->end, nbytes);
                   ~ ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
iobuffer.c:764:25: warning: comparison of integers of different signs: 'int' and 'unsigned int' [-Wsign-compare]
    } while (bytes_read == nbytes);
             ~~~~~~~~~~ ^  ~~~~~~
14 warnings generated.
linking shared-object iobuffer_ext.bundle

make "DESTDIR=" install
/usr/bin/install -c -m 0755 iobuffer_ext.bundle ./.gem.20161216-3495-1vnl39
